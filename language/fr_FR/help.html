<h2>Aide</h2>

<h3>Démarrage rapide</h3>

<ol>

  <li>Créer un répertoire local "categorie_test".</li>

  <li>Remplir le répetoire "categorie_test" avec des photos.</li>

  <li>Ouvrir une connexion FTP vers la galerie distante.</li>

  <li>Télécharger le répertoire local "categorie_test" dans le répertoire
distant "galleries". Donner tous les droits (777) au nouveau répertoire
"galleries/categorie_test".</li>

  <li>Se connecter à votre installation de PhpWebGallery en tant
qu'administrateur.</li>

  <li>Se rendre sur <span class="pwgScreen">Administration, Images,
Miniatures</span>. Demander à créer les miniatures absentes selon l'analyse
de PhpWebGallery.</li>

  <li>Se rendre sur <span class="pwgScreen">Administration, Catégories,
Synchroniser</span>. Cocher "répertoires + fichiers", décocher "Simuler
uniquement" et valider la synchronisation.</li>

  <li>Et voilà. Vous avez créer la catégorie "categorie_test" à la racine de
votre galerie.</li>
  
</ol>

<h3>Ajouts d'éléments</h3>

<ul>

  <li>

    <p>Les répertoires représentant les catégories sont dans le répertoire
"galleries". Ci-dessous l'arbre des répertoires d'une très petite galerie
(mais utilisant de nombreuses fonctionnalités) : </p>
  
<pre>
.
|-- admin
|-- doc
|-- galleries
|   |-- categorie-1
|   |   |-- categorie-1.1
|   |   |   |-- categorie-1.1.1
|   |   |   |   |-- categorie-1.1.1.1
|   |   |   |   |   |-- pwg_high
|   |   |   |   |   |   +-- mariage.jpg
|   |   |   |   |   |-- thumbnail
|   |   |   |   |   |   +-- TN-mariage.jpg
|   |   |   |   |   +-- mariage.jpg
|   |   |   |   +-- categorie-1.1.1.2
|   |   |   +-- categorie-1.1.2
|   |   |-- categorie-1.2
|   |   |   |-- pookie.jpg
|   |   |   +-- thumbnail
|   |   |       +-- TN-pookie.jpg
|   |   +-- categorie-1.3
|   +-- categorie-2
|       |-- porcinet.gif
|       |-- pwg_representative
|       |   +-- video.jpg
|       |-- thumbnail
|       |   +-- TN-porcinet.jpg
|       +-- video.avi
|-- include
|-- install
|-- language
|-- template
+-- tool</pre>

  </li>
  
  <li>Fondamentalement, une catégorie est représentée par un répertoire à
n'importe quel niveau sous le répertoire "galleries" de votre installation
de PhpWebGallery. Chaque catégorie peut contenir autant de sous-niveaux que
désiré. Dans l'exemple ci-dessus, categorie-1.1.1.1 est à un niveau 4 de
profondeur.</li>

  <li>Fondamentalement, un élément est représenté par un fichier. Un fichier
peut être un élément pour PhpWebGallery si l'extension du nom du fichier est
parmi la liste du paramètre de configuration <code>file_ext</code> (voir
fichier <span class="filename">include/config.inc.php</span>). Un fichier
peut être une image si son extension est parmi le paramètre de configuration
<code>picture_ext</code>.</li>

  <li>Les éléments de type image doivent avoir une miniature associée (voir la
section suivante à propos des miniatures).</li>

  <li>Les éléments de type image peuvent avoir un image en grand format
associé.  Comme pour le fichier <span class="filename">mariage.jpg</span>
dans l'exemple ci-dessus. Aucun préfixe n'est nécessaire sur le nom du
fichier.</li>

  <li>Les éléments non image (vidéos, sons, fichiers texte, tout ce que vous
voulez...) sont par défaut représentés par un icône correspondant à
l'extension du nom du fichier. Optionnellement, une miniature et un
représentant peuvent être associés (voir le fichier <span
class="filename">video.avi</span> dans l'exemple).</li>

  <li><em>Attention</em> : le nom d'un répertoire ou d'un fichier ne doit
être composé que de lettres, de chiffres, de "-", "_" ou ".". Pas d'espace
ou de caractères accentués.</li>

  <li><em>Conseil</em> : une catégorie peut contenir des éléments et des
sous-catégories à la fois. Néanmoins, il est fortement conseillé pour chaque
catégorie de choisir entre contenir des éléments <strong>ou bien</strong>
des sous-catégories.</li>

  <li>Une fois que les fichiers, les miniatures et les représentants sont
correctement placés dans les répertoires, se rendre sur l'écran <span
class="pwgScreen">Administration, Catégories, Synchroniser</span>.</li>

</ul>

<h3>Miniatures</h3>

<ul>
  
  <li>Comme mentionné précédemment, chaque élément de type image doit être
associé à une miniature.</li>

  <li>Les miniatures sont stockées dans le sous-répertoire "thumbnail" de
chaque répertoire représentant une catégorie. Une miniature est un fichier
de type image (même extension du nom du fichier) dont le nom de fichier est
préfixé par le paramètre de configuration <code>prefix_thumbnail</code>
(voir <span class="filename">include/config.inc.php</span>).</li>

  <li>Les miniatures n'ont pas besoin d'avoir la même extension que leur
image associée (une image avec ".jpg" comme extension peut avoir une
miniature en ".GIF" par exemple).</li>

  <li>Il est conseillé d'utiliser un outil externe pour la création des
miniatures (comme ThumbClic ou PhpMyVignettes, voir le site de présentation
de PhpWebGallery).</li>

  <li>Vous pouvez également utiliser l'outil de création de miniature
intégré à PhpWebGallery mais cela est déconseillé car la qualité risque
d'être décevante et cela utilise inutilement les ressources du serveur (ce
qui peut être un grave problème sur un serveur mutualisé).</li>

  <li>Si vous choisissez d'utiliser le serveur web pour générer les
miniatures, vous devez donner les droits en écriture sur tous les
répertoires représentant les catégories pour tous les utilisateurs
(propriétaire, groupe, autre).</li>

</ul>

<h3>Autorisations</h3>

<ul>

  <li>Vous pouvez interdire l'accès aux catégories. Les catégories peuvent
être publiques ou privées. Les autorisations (valables pour les groupes et
les utilisateurs) sont gérables uniquement pour les catégories privées.</li>
  
  <li>Vous pouvez rendre une catégorie privée en l'éditant (<span
class="pwgScreen">Administration, Catégories, Gérer, Editer</span>) ou en
gérant les options pour votre arbre complet des catégories (<span
class="pwgScreen">Administration, Catégories, Propriétés, Publique/Privée</span>).</li>

  <li>Une fois que certaines catégories sont privées, vous pouvez gérer les
autorisations pour les groupes et les utilisateurs (<span
class="pwgScreen">Administration, Identification</span>).</li>

</ul>

<h3>Groupes d'utilisateurs</h3>

<ul>

  <li>PhpWebGallery peut gérer des groupes d'utilisateurs. Très pratique
pour gérer des autorisations communes sur les catégories privées.</li>

  <li>Vous pouvez créer des groupes et y ajouter des utilisateurs dans la
<span class="pwgScreen">Administration, Identification, Groupes</span>.</li>

  <li>Un utilisateur peut appartenir à plusieurs groupes. L'autorisation est
plus forte que l'interdiction : si l'utilisateur "pierre" appartient aux
groupes "famille" et "amis", et que seul le groupe "famille" peut visiter la
catégorie "Noël 2003", alors "pierre" peut visiter cette catégorie.</li>
  
</ul>

<h3>Ajout de fichiers par les utilisateurs</h3>

<p>Pour permettre aux utilisateurs d'ajouter des fichiers :</p>

<ol>

  <li>autoriser l'ajout d'images sur n'importe quelle catégorie (<span
class="pwgScreen">Administation, Catégories, Gestion, Edit</span> ou <span
class="pwgScreen">Administration, Catégories, Propriétés, Ajout d'images</span>).</li>

  <li>donner les droits en écriture (pour tous les utilisateurs) sur les
répertoires correspondant aux catégories qui sont autorisées à l'ajout.</li>
</ol>
  <p>Les fichiers ajoutés par les utilisateurs ne sont pas directement
visibles sur le site, ils doivent être validés par un administrateur. Pour
cela, un administrateur doit se rendre dans zone administration, Images, En
attente afin de valider ou rejeter les fichiers proposés. Il est ensuite
nécessaire de synchroniser le système de fichier avec la base de données.</p>



<h3>Liens entre les éléments et les catégories, catégories virtuelles</h3>

<ul>

  <li>PhpWebGallery dissocie les catégories qui stockent les éléments et les
catégories où les éléments sont montrés.</li>

  <li>Par défaut, les élement ne sont montrés que dans leurs catégories
réelles : celles qui correspondent à leurs répertoires sur le serveur.</li>

  <li>Pour lier un élément à une catégorie, il suffit de faire une
association sur la page d'édition de l'élément (un lien existe vers cette
page lorsque vous êtes connecté en tant qu'administrateur), sur la page
regroupant les informations sur tous les éléments d'une catégorie ou bien
encore à l'aide du caddie.</li>

  <li>En partant de ce principe, il est possible de créer des catégories
virtuelles : aucun répertoire ne correspond à ces catégories. Vous pouvez
créer des catégories virtuelles sur <span class="pwgScreen">Administration,
Catégorie, Gérer</span>.</li>

</ul>

<h3>Informations diverses</h3>

<ul>
  
  <li>Une fois votre galerie créée, configurez l'affichage par
défaut tel que désiré dans <span class="pwgScreen">Administation,
Configuration, Affichage par défaut</span>. En effet, chaque nouvel
utilisateur héritera de ces propriétés d'affichage.</li>

  <li>Pour tout question, n'hésitez pas à visiter le forum ou à y poser une
question si votre recherche est infructueuse. Le 
<a href="http://forum.phpwebgallery.net">forum</a> est disponible sur le site
 de PhpWebGallery. Consulter également la 
<a href="http://phpwebgallery.net/doc">documentation officielle de 
PhpWebGallery</a> pour obtenir plus de détails.</li>

</ul>
